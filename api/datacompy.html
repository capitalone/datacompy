<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="datacompy.spark package" href="datacompy.spark.html" /><link rel="prev" title="datacompy" href="modules.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.07.19 -->
        <title>datacompy package - datacompy 0.17.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">datacompy 0.17.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">datacompy 0.17.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pandas_usage.html">Pandas Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spark_usage.html">Spark Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../snowflake_usage.html">Snowflake Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../polars_usage.html">Polars Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fugue_usage.html">Fugue Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../template_guide.html">Template Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmark.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_instructions.html">Developer Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">datacompy</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of datacompy</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">datacompy package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of datacompy package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html">datacompy.spark package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/capitalone/datacompy">Github Repo</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/api/datacompy.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="datacompy-package">
<h1>datacompy package<a class="headerlink" href="#datacompy-package" title="Link to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="datacompy.spark.html">datacompy.spark package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datacompy.spark.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="datacompy.spark.html#module-datacompy.spark.helper">datacompy.spark.helper module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.helper.compare_by_row"><code class="docutils literal notranslate"><span class="pre">compare_by_row()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.helper.format_numeric_fields"><code class="docutils literal notranslate"><span class="pre">format_numeric_fields()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.helper.handle_numeric_strings"><code class="docutils literal notranslate"><span class="pre">handle_numeric_strings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.helper.sort_columns"><code class="docutils literal notranslate"><span class="pre">sort_columns()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.helper.sort_rows"><code class="docutils literal notranslate"><span class="pre">sort_rows()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="datacompy.spark.html#module-datacompy.spark.sql">datacompy.spark.sql module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.all_columns_match()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.all_mismatch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.all_rows_overlap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.count_matching_rows()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.df1"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.df1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.df1_unq_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.df2"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.df2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.df2_unq_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.intersect_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.intersect_rows_match()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.matches"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.matches()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.report"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.report()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.sample_mismatch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.SparkSQLCompare.subset"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.subset()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.calculate_max_diff"><code class="docutils literal notranslate"><span class="pre">calculate_max_diff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.calculate_null_diff"><code class="docutils literal notranslate"><span class="pre">calculate_null_diff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.columns_equal"><code class="docutils literal notranslate"><span class="pre">columns_equal()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.decimal_comparator"><code class="docutils literal notranslate"><span class="pre">decimal_comparator()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="datacompy.spark.html#datacompy.spark.sql.get_merged_columns"><code class="docutils literal notranslate"><span class="pre">get_merged_columns()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="datacompy.spark.html#module-datacompy.spark">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-datacompy.base">
<span id="datacompy-base-module"></span><h2>datacompy.base module<a class="headerlink" href="#module-datacompy.base" title="Link to this heading">¶</a></h2>
<p>Compare two Pandas DataFrames.</p>
<p>Originally this package was meant to provide similar functionality to
PROC COMPARE in SAS - i.e. human-readable reporting on the difference between
two dataframes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.base.</span></span><span class="sig-name descname"><span class="pre">BaseCompare</span></span><a class="headerlink" href="#datacompy.base.BaseCompare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Base comparison class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.all_columns_match">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Check if all columns match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.all_mismatch">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows that mismatch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.all_rows_overlap">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Check if all rows overlap.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.count_matching_rows">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of matching rows.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.df1">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#datacompy.base.BaseCompare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.df1_unq_columns">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.df2">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#datacompy.base.BaseCompare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.df2_unq_columns">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.intersect_columns">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.intersect_rows_match">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check if the intersection of rows match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.matches">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Check if the dataframes match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.only_join_columns">
<span class="sig-name descname"><span class="pre">only_join_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.only_join_columns" title="Link to this definition">¶</a></dt>
<dd><p>Boolean on if the only columns are the join columns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.report">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return. Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output. Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.sample_mismatch">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get a sample of rows that mismatch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.base.BaseCompare.subset">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.base.BaseCompare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Check if one dataframe is a subset of the other.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.base.df_to_str">
<span class="sig-prename descclassname"><span class="pre">datacompy.base.</span></span><span class="sig-name descname"><span class="pre">df_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.base.df_to_str" title="Link to this definition">¶</a></dt>
<dd><p>Convert a DataFrame to a string representation.</p>
<p>This is a centralized function to handle DataFrame to string conversion for different
DataFrame types (pandas, Spark, Polars, etc.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>Any</em>) – The DataFrame to convert to string. Can be pandas, Spark, or Polars DataFrame.</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – For distributed DataFrames (like Spark), limit the number of rows to convert.</p></li>
<li><p><strong>on_index</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, include the index in the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String representation of the DataFrame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.base.get_column_tolerance">
<span class="sig-prename descclassname"><span class="pre">datacompy.base.</span></span><span class="sig-name descname"><span class="pre">get_column_tolerance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#datacompy.base.get_column_tolerance" title="Link to this definition">¶</a></dt>
<dd><p>Return the tolerance value for a given column from a dictionary of tolerances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The name of the column for which to retrieve the tolerance.</p></li>
<li><p><strong>tol_dict</strong> (<em>dict</em><em> of </em><em>str to float</em>) – Dictionary mapping column names to their tolerance values.
May contain a “default” key for columns not explicitly listed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The tolerance value for the specified column, or the “default” tolerance if the column is not found.
Returns 0 if neither the column nor “default” is present in the dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.base.render">
<span class="sig-prename descclassname"><span class="pre">datacompy.base.</span></span><span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.base.render" title="Link to this definition">¶</a></dt>
<dd><p>Render a template using Jinja2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_name</strong> (<em>str</em>) – The name of the template file to render. This can be:
- A filename in the default templates directory (with or without .j2 extension)
- A relative path from the default templates directory
- An absolute path to a template file</p></li>
<li><p><strong>**context</strong> (<em>dict</em>) – The context variables to pass to the template</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rendered template</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the template file cannot be found in any of the expected locations</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.base.save_html_report">
<span class="sig-prename descclassname"><span class="pre">datacompy.base.</span></span><span class="sig-name descname"><span class="pre">save_html_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#datacompy.base.save_html_report" title="Link to this definition">¶</a></dt>
<dd><p>Save a text report as an HTML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>report</strong> (<em>str</em>) – The text report to convert to HTML</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em> or </em><em>Path</em>) – The path where the HTML file should be saved</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.base.temp_column_name">
<span class="sig-prename descclassname"><span class="pre">datacompy.base.</span></span><span class="sig-name descname"><span class="pre">temp_column_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dataframes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.base.temp_column_name" title="Link to this definition">¶</a></dt>
<dd><p>Get a temp column name that isn’t included in columns of any dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataframes</strong> (<em>list</em><em> of </em><em>DataFrames</em>) – The DataFrames to create a temporary column name for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String column name that looks like ‘_temp_x’ for some integer x</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-datacompy.core">
<span id="datacompy-core-module"></span><h2>datacompy.core module<a class="headerlink" href="#module-datacompy.core" title="Link to this heading">¶</a></h2>
<p>Compare two Pandas DataFrames.</p>
<p>Originally this package was meant to provide similar functionality to
PROC COMPARE in SAS - i.e. human-readable reporting on the difference between
two dataframes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="datacompy.core.Compare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.core.</span></span><span class="sig-name descname"><span class="pre">Compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datacompy.core.Compare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#datacompy.base.BaseCompare" title="datacompy.base.BaseCompare"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCompare</span></code></a></p>
<p>Comparison class to be used to compare whether two dataframes as equal.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>on_index</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the index will be used to join the two dataframes.  If both
<code class="docutils literal notranslate"><span class="pre">join_columns</span></code> and <code class="docutils literal notranslate"><span class="pre">on_index</span></code> are provided, an exception will be
raised.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Absolute tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Relative tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns). Excludes categoricals.</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns. Excludes categoricals.</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>df1_unq_rows</strong> (pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – All records that are only in df1 (based on a join on join_columns)</p></li>
<li><p><strong>df2_unq_rows</strong> (pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – All records that are only in df2 (based on a join on join_columns)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.all_columns_match">
<span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.core.Compare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.all_mismatch">
<span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.core.Compare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows with any columns that have a mismatch.</p>
<p>Returns all df1 and df2 versions of the columns and join
columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_matching_cols</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether showing the matching columns in the output or not. The default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All rows of the intersection dataframe, containing any columns, that don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.all_rows_overlap">
<span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.core.Compare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Whether the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.count_matching_rows">
<span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.core.Compare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of matching rows</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.core.Compare.df1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.core.Compare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.df1_unq_columns">
<span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.core.Compare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.core.Compare.df2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.core.Compare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.df2_unq_columns">
<span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.core.Compare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.intersect_columns">
<span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.core.Compare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.intersect_rows_match">
<span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.core.Compare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the intersect rows all match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.core.Compare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Return True or False if the dataframes match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_extra_columns</strong> (<em>bool</em>) – Ignores any columns in one dataframe and not in the other.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False if the dataframes match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.core.Compare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can then be printed or saved to a file. You can customize the
report’s appearance by providing a custom Jinja2 template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return. Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output. Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used. The template receives the
following context variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">column_summary</span></code>: Dict with column statistics including: <code class="docutils literal notranslate"><span class="pre">common_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_name</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_summary</span></code>: Dict with row statistics including: <code class="docutils literal notranslate"><span class="pre">match_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_rows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column_comparison</span></code>: Dict with column comparison statistics including: <code class="docutils literal notranslate"><span class="pre">unequal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_values</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mismatch_stats</span></code>: Dict containing:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: List of dicts with column mismatch statistics (column, match, mismatch, null_diff, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples</span></code>: Sample rows with mismatched values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_samples</span></code>: Boolean indicating if there are any mismatch samples</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_mismatches</span></code>: Boolean indicating if there are any mismatches</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">df1_unique_rows</span></code>: Dict with unique rows in df1 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df2_unique_rows</span></code>: Dict with unique rows in df2 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Basic usage with default template:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">compare</span> <span class="o">=</span> <span class="n">datacompy</span><span class="o">.</span><span class="n">Compare</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">join_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">compare</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
<p>Using a custom template file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a custom template file (custom_report.j2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;custom_report.j2&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    Comparison Report</span>
<span class="gp">... </span><span class="s1">    ================</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">    DataFrames: {{ df1_name }} vs {{ df2_name }}</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">    Shape Summary:</span>
<span class="gp">... </span><span class="s1">    - {{ df1_name }}: {{ df1_shape[0] }} rows x {{ df1_shape[1] }} columns</span>
<span class="gp">... </span><span class="s1">    - {{ df2_name }}: {{ df2_shape[0] }} rows x {{ df2_shape[1] }} columns</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% i</span><span class="s1">f mismatch_stats %}</span>
<span class="gp">... </span><span class="s1">    Mismatched Columns ({{ mismatch_stats|length }}):</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% f</span><span class="s1">or col in mismatch_stats %}</span>
<span class="gp">... </span><span class="s1">    - {{ col.column }} ({{ col.unequal_cnt }} mismatches)</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% e</span><span class="s1">ndfor %}</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% e</span><span class="s1">lse %}</span>
<span class="gp">... </span><span class="s1">    No mismatches found in any columns!</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% e</span><span class="s1">ndif %}</span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Generate report with custom template</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">compare</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">template_path</span><span class="o">=</span><span class="s1">&#39;custom_report.j2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.sample_mismatch">
<span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#datacompy.core.Compare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Return sample mismatches.</p>
<p>Gets a sub-dataframe which contains the identifying
columns, and df1 and df2 versions of the column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The raw column name (i.e. without <code class="docutils literal notranslate"><span class="pre">_df1</span></code> appended)</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>for_display</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether this is just going to be used for display (overwrite the
column names)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>Pandas.DataFrame</em> – A sample of the intersection dataframe, containing only the
“pertinent” columns, for rows that don’t match on the provided
column.</p></li>
<li><p><em>None</em> – When the column being requested is not an intersecting column between dataframes.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.core.Compare.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.core.Compare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Return True if dataframe 2 is a subset of dataframe 1.</p>
<p>Dataframe 2 is considered a subset if all of its columns are in
dataframe 1, and all of its rows match rows in dataframe 1 for the
shared columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if dataframe 2 is a subset of dataframe 1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.core.calculate_max_diff">
<span class="sig-prename descclassname"><span class="pre">datacompy.core.</span></span><span class="sig-name descname"><span class="pre">calculate_max_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#datacompy.core.calculate_max_diff" title="Link to this definition">¶</a></dt>
<dd><p>Get a maximum difference between two columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Pandas.Series</em>) – The first column</p></li>
<li><p><strong>col_2</strong> (<em>Pandas.Series</em>) – The second column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Numeric field, or zero.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Numeric</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.core.columns_equal">
<span class="sig-prename descclassname"><span class="pre">datacompy.core.</span></span><span class="sig-name descname"><span class="pre">columns_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.core.columns_equal" title="Link to this definition">¶</a></dt>
<dd><p>Compare two columns from a dataframe.</p>
<p>Returns a True/False series,
with the same index as column 1.</p>
<ul class="simple">
<li><p>Two nulls (np.nan) will evaluate to True.</p></li>
<li><p>A null and a non-null value will evaluate to False.</p></li>
<li><p>Numeric values will use the relative and absolute tolerances.</p></li>
<li><p>Decimal values (decimal.Decimal) will attempt to be converted to floats
before comparing</p></li>
<li><p>Non-numeric values (i.e. where np.isclose can’t be used) will just
trigger True on two nulls or exact matches.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>As of version <code class="docutils literal notranslate"><span class="pre">0.14.0</span></code> If a column is of a mixed data type the compare will
default to returning <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code> and <code class="docutils literal notranslate"><span class="pre">np.array</span></code> types will be compared row wise using <code class="docutils literal notranslate"><span class="pre">np.array_equal</span></code>.
Depending on the size of your data this might lead to performance issues.</p></li>
<li><p>All the rows must be of the same type otherwise it is considered “mixed”
and will default to being <code class="docutils literal notranslate"><span class="pre">False</span></code> for everything.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Pandas.Series</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>Pandas.Series</em>) – The second column</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A series of Boolean values.  True == the values match, False == the
values don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.core.compare_string_and_date_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.core.</span></span><span class="sig-name descname"><span class="pre">compare_string_and_date_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.core.compare_string_and_date_columns" title="Link to this definition">¶</a></dt>
<dd><p>Compare a string column and date column, value-wise.</p>
<p>This tries to
convert a string column to a date column and compare that way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Pandas.Series</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>Pandas.Series</em>) – The second column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A series of Boolean values.  True == the values match, False == the
values don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.core.generate_id_within_group">
<span class="sig-prename descclassname"><span class="pre">datacompy.core.</span></span><span class="sig-name descname"><span class="pre">generate_id_within_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.core.generate_id_within_group" title="Link to this definition">¶</a></dt>
<dd><p>Generate an ID column that can be used to deduplicate identical rows.</p>
<p>The series generated
is the order within a unique group, and it handles nulls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataframe</strong> (<em>Pandas.DataFrame</em>) – The dataframe to operate on</p></li>
<li><p><strong>join_columns</strong> (<em>list</em>) – List of strings which are the join columns</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The ID column that’s unique in each group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.core.get_merged_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.core.</span></span><span class="sig-name descname"><span class="pre">get_merged_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merged_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.core.get_merged_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get the columns from an original dataframe, in the new merged dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_df</strong> (<em>Pandas.DataFrame</em>) – The original, pre-merge dataframe</p></li>
<li><p><strong>merged_df</strong> (<em>Pandas.DataFrame</em>) – Post-merge with another dataframe, with suffixes added in.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – What suffix was used to distinguish when the original dataframe was
overlapping with the other merged dataframe.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.core.normalize_string_column">
<span class="sig-prename descclassname"><span class="pre">datacompy.core.</span></span><span class="sig-name descname"><span class="pre">normalize_string_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#datacompy.core.normalize_string_column" title="Link to this definition">¶</a></dt>
<dd><p>Normalize a string column by converting to upper case and stripping whitespace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>pd.Series</em>) – The column to normalize</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em>) – Whether to ignore spaces when normalizing</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em>) – Whether to ignore case when normalizing</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized column</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Will not operate on categorical columns.</p>
</dd></dl>

</section>
<section id="module-datacompy.fugue">
<span id="datacompy-fugue-module"></span><h2>datacompy.fugue module<a class="headerlink" href="#module-datacompy.fugue" title="Link to this heading">¶</a></h2>
<p>Compare two DataFrames that are supported by Fugue.</p>
<dl class="py function">
<dt class="sig sig-object py" id="datacompy.fugue.all_columns_match">
<span class="sig-prename descclassname"><span class="pre">datacompy.fugue.</span></span><span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.fugue.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean indicating whether the columns all match in the dataframes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.fugue.all_rows_overlap">
<span class="sig-prename descclassname"><span class="pre">datacompy.fugue.</span></span><span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.fugue.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Check if the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance between two values.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance between two values.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
<li><p><strong>parallelism</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer representing the amount of parallelism. Entering a value for this
will force to use of Fugue over just vanilla Pandas</p></li>
<li><p><strong>strict_schema</strong> (<em>bool</em><em>, </em><em>optional</em>) – The schema must match exactly if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This includes the names and types. Allows for a fast fail.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.fugue.count_matching_rows">
<span class="sig-prename descclassname"><span class="pre">datacompy.fugue.</span></span><span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.fugue.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance between two values.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance between two values.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
<li><p><strong>parallelism</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer representing the amount of parallelism. Entering a value for this
will force to use of Fugue over just vanilla Pandas</p></li>
<li><p><strong>strict_schema</strong> (<em>bool</em><em>, </em><em>optional</em>) – The schema must match exactly if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This includes the names and types. Allows for a fast fail.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of matching rows</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.fugue.intersect_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.fugue.</span></span><span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.fugue.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of that are shared between the two dataframes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OrderedSet</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.fugue.is_match">
<span class="sig-prename descclassname"><span class="pre">datacompy.fugue.</span></span><span class="sig-name descname"><span class="pre">is_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.fugue.is_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether two dataframes match.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance between two values.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance between two values.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
<li><p><strong>parallelism</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer representing the amount of parallelism. Entering a value for this
will force to use of Fugue over just vanilla Pandas</p></li>
<li><p><strong>strict_schema</strong> (<em>bool</em><em>, </em><em>optional</em>) – The schema must match exactly if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This includes the names and types. Allows for a fast fail.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns boolean as to if the DataFrames match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.fugue.report">
<span class="sig-prename descclassname"><span class="pre">datacompy.fugue.</span></span><span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.fugue.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can
then be printed or saved to a file.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance between two values.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance between two values.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
<li><p><strong>parallelism</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer representing the amount of parallelism. Entering a value for this
will force to use of Fugue over just vanilla Pandas</p></li>
<li><p><strong>strict_schema</strong> (<em>bool</em><em>, </em><em>optional</em>) – The schema must match exactly if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This includes the names and types. Allows for a fast fail.</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output.  Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted kinda nicely.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.fugue.unq_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.fugue.</span></span><span class="sig-name descname"><span class="pre">unq_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.fugue.unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of columns that are unique to df1</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OrderedSet</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-datacompy.polars">
<span id="datacompy-polars-module"></span><h2>datacompy.polars module<a class="headerlink" href="#module-datacompy.polars" title="Link to this heading">¶</a></h2>
<p>Compare two Polars DataFrames.</p>
<p>Originally this package was meant to provide similar functionality to
PROC COMPARE in SAS - i.e. human-readable reporting on the difference between
two dataframes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.polars.</span></span><span class="sig-name descname"><span class="pre">PolarsCompare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datacompy.polars.PolarsCompare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#datacompy.base.BaseCompare" title="datacompy.base.BaseCompare"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCompare</span></code></a></p>
<p>Comparison class to be used to compare whether two dataframes as equal.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (Polars <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (Polars <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Absolute tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Relative tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns). Excludes categoricals.</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns. Excludes categoricals.</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>df1_unq_rows</strong> (Polars <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – All records that are only in df1 (based on a join on join_columns)</p></li>
<li><p><strong>df2_unq_rows</strong> (Polars <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – All records that are only in df2 (based on a join on join_columns)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.all_columns_match">
<span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.all_mismatch">
<span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows with any columns that have a mismatch.</p>
<p>Returns all df1 and df2 versions of the columns and join
columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_matching_cols</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether showing the matching columns in the output or not. The default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All rows of the intersection dataframe, containing any columns, that don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Polars.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.all_rows_overlap">
<span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Whether the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.count_matching_rows">
<span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of matching rows</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.df1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.polars.PolarsCompare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.df1_unq_columns">
<span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.df2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.polars.PolarsCompare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.df2_unq_columns">
<span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.intersect_columns">
<span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.intersect_rows_match">
<span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the intersect rows all match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Return True or False if the dataframes match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_extra_columns</strong> (<em>bool</em>) – Ignores any columns in one dataframe and not in the other.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False if the dataframes match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can then be printed or saved to a file. You can customize the
report’s appearance by providing a custom Jinja2 template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output.  Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used. The template receives the
following context variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">column_summary</span></code>: Dict with column statistics including: <code class="docutils literal notranslate"><span class="pre">common_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_name</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_summary</span></code>: Dict with row statistics including: <code class="docutils literal notranslate"><span class="pre">match_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_rows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column_comparison</span></code>: Dict with column comparison statistics including: <code class="docutils literal notranslate"><span class="pre">unequal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_values</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mismatch_stats</span></code>: Dict containing:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: List of dicts with column mismatch statistics (column, match, mismatch, null_diff, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples</span></code>: Sample rows with mismatched values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_samples</span></code>: Boolean indicating if there are any mismatch samples</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_mismatches</span></code>: Boolean indicating if there are any mismatches</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">df1_unique_rows</span></code>: Dict with unique rows in df1 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df2_unique_rows</span></code>: Dict with unique rows in df2 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.sample_mismatch">
<span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Return sample mismatches.</p>
<p>Get a sub-dataframe which contains the identifying
columns, and df1 and df2 versions of the column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The raw column name (i.e. without <code class="docutils literal notranslate"><span class="pre">_df1</span></code> appended)</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>for_display</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether this is just going to be used for display (overwrite the
column names)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>Polars.DataFrame</em> – A sample of the intersection dataframe, containing only the
“pertinent” columns, for rows that don’t match on the provided
column.</p></li>
<li><p><em>None</em> – When the column being requested is not an intersecting column between dataframes.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.polars.PolarsCompare.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.polars.PolarsCompare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Return True if dataframe 2 is a subset of dataframe 1.</p>
<p>Dataframe 2 is considered a subset if all of its columns are in
dataframe 1, and all of its rows match rows in dataframe 1 for the
shared columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if dataframe 2 is a subset of dataframe 1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.polars.calculate_max_diff">
<span class="sig-prename descclassname"><span class="pre">datacompy.polars.</span></span><span class="sig-name descname"><span class="pre">calculate_max_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#datacompy.polars.calculate_max_diff" title="Link to this definition">¶</a></dt>
<dd><p>Get a maximum difference between two columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Polars.Series</em>) – The first column</p></li>
<li><p><strong>col_2</strong> (<em>Polars.Series</em>) – The second column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Numeric field, or zero.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Numeric</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.polars.columns_equal">
<span class="sig-prename descclassname"><span class="pre">datacompy.polars.</span></span><span class="sig-name descname"><span class="pre">columns_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#datacompy.polars.columns_equal" title="Link to this definition">¶</a></dt>
<dd><p>Compare two columns from a dataframe.</p>
<p>Returns a True/False series,
with the same index as column 1.</p>
<ul class="simple">
<li><p>Two nulls (np.nan) will evaluate to True.</p></li>
<li><p>A null and a non-null value will evaluate to False.</p></li>
<li><p>Numeric values will use the relative and absolute tolerances.</p></li>
<li><p>Decimal values (decimal.Decimal) will attempt to be converted to floats
before comparing</p></li>
<li><p>Non-numeric values (i.e. where np.isclose can’t be used) will just
trigger True on two nulls or exact matches.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Polars.Series</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>Polars.Series</em>) – The second column</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A series of Boolean values.  True == the values match, False == the
values don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Polars.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.polars.compare_string_and_date_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.polars.</span></span><span class="sig-name descname"><span class="pre">compare_string_and_date_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#datacompy.polars.compare_string_and_date_columns" title="Link to this definition">¶</a></dt>
<dd><p>Compare a string column and date column, value-wise.</p>
<p>This tries to convert a string column to a date column and compare that way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Polars.Series</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>Polars.Series</em>) – The second column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A series of Boolean values.  True == the values match, False == the
values don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Polars.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.polars.generate_id_within_group">
<span class="sig-prename descclassname"><span class="pre">datacompy.polars.</span></span><span class="sig-name descname"><span class="pre">generate_id_within_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#datacompy.polars.generate_id_within_group" title="Link to this definition">¶</a></dt>
<dd><p>Generate an ID column that can be used to deduplicate identical rows.</p>
<p>The series generated
is the order within a unique group, and it handles nulls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataframe</strong> (<em>Polars.DataFrame</em>) – The dataframe to operate on</p></li>
<li><p><strong>join_columns</strong> (<em>list</em>) – List of strings which are the join columns</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The ID column that’s unique in each group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Polars.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.polars.get_merged_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.polars.</span></span><span class="sig-name descname"><span class="pre">get_merged_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merged_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.polars.get_merged_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get the columns from an original dataframe, in the new merged dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_df</strong> (<em>Polars.DataFrame</em>) – The original, pre-merge dataframe</p></li>
<li><p><strong>merged_df</strong> (<em>Polars.DataFrame</em>) – Post-merge with another dataframe, with suffixes added in.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – What suffix was used to distinguish when the original dataframe was
overlapping with the other merged dataframe.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.polars.normalize_string_column">
<span class="sig-prename descclassname"><span class="pre">datacompy.polars.</span></span><span class="sig-name descname"><span class="pre">normalize_string_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#datacompy.polars.normalize_string_column" title="Link to this definition">¶</a></dt>
<dd><p>Normalize a string column by converting to upper case and stripping whitespace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>pl.Series</em>) – The column to normalize</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em>) – Whether to ignore spaces when normalizing</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em>) – Whether to ignore case when normalizing</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized column</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pl.Series</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Will not operate on categorical columns.</p>
</dd></dl>

</section>
<section id="module-datacompy.snowflake">
<span id="datacompy-snowflake-module"></span><h2>datacompy.snowflake module<a class="headerlink" href="#module-datacompy.snowflake" title="Link to this heading">¶</a></h2>
<p>Compare two Snowpark SQL DataFrames and Snowflake tables.</p>
<p>Originally this package was meant to provide similar functionality to
PROC COMPARE in SAS - i.e. human-readable reporting on the difference between
two dataframes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.snowflake.</span></span><span class="sig-name descname"><span class="pre">SnowflakeCompare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#datacompy.base.BaseCompare" title="datacompy.base.BaseCompare"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCompare</span></code></a></p>
<p>Comparison class to be used to compare whether two Snowpark dataframes are equal.</p>
<p>df1 and df2 can refer to either a Snowpark dataframe or the name of a valid Snowflake table.
The data structures which df1 and df2 represent must contain all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session</strong> (<em>snowflake.snowpark.session</em>) – Session with the required connection session info for user and targeted tables</p></li>
<li><p><strong>df1</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>sp.Dataframe</em><em>]</em>) – First table to check, provided either as the table’s name or as a Snowpark DF.</p></li>
<li><p><strong>df2</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>sp.Dataframe</em><em>]</em>) – Second table to check, provided either as the table’s name or as a Snowpark DF.</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Absolute tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Relative tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe. If used alongside a snowflake table,
overrides the default convention of naming the dataframe after the table.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe.</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns).</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>df1_unq_rows</strong> (<em>sp.DataFrame</em>) – All records that are only in df1 (based on a join on join_columns)</p></li>
<li><p><strong>df2_unq_rows</strong> (<em>sp.DataFrame</em>) – All records that are only in df2 (based on a join on join_columns)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.all_columns_match">
<span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>bool</em></p></li>
<li><p><em>True if all columns in df1 are in df2 and vice versa</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.all_mismatch">
<span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows with any columns that have a mismatch.</p>
<p>Returns all df1 and df2 versions of the columns and join
columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_matching_cols</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether showing the matching columns in the output or not. The default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All rows of the intersection dataframe, containing any columns, that don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sp.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.all_rows_overlap">
<span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Whether the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.count_matching_rows">
<span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of matching rows</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.df1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.df1_unq_columns">
<span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.df2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.df2_unq_columns">
<span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.intersect_columns">
<span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.intersect_rows_match">
<span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the intersect rows all match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Return True or False if the dataframes match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_extra_columns</strong> (<em>bool</em>) – Ignores any columns in one dataframe and not in the other.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False if the dataframes match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can then be printed or saved to a file. You can customize the
report’s appearance by providing a custom Jinja2 template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return. Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output. Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used. The template receives the
following context variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">column_summary</span></code>: Dict with column statistics including: <code class="docutils literal notranslate"><span class="pre">common_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_name</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_summary</span></code>: Dict with row statistics including: <code class="docutils literal notranslate"><span class="pre">match_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_rows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column_comparison</span></code>: Dict with column comparison statistics including: <code class="docutils literal notranslate"><span class="pre">unequal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_values</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mismatch_stats</span></code>: Dict containing:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: List of dicts with column mismatch statistics (column, match, mismatch, null_diff, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples</span></code>: Sample rows with mismatched values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_samples</span></code>: Boolean indicating if there are any mismatch samples</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_mismatches</span></code>: Boolean indicating if there are any mismatches</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">df1_unique_rows</span></code>: Dict with unique rows in df1 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df2_unique_rows</span></code>: Dict with unique rows in df2 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.sample_mismatch">
<span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Return sample mismatches.</p>
<p>Gets a sub-dataframe which contains the identifying
columns, and df1 and df2 versions of the column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The raw column name (i.e. without <code class="docutils literal notranslate"><span class="pre">_df1</span></code> appended)</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>for_display</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether this is just going to be used for display (overwrite the
column names)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A sample of the intersection dataframe, containing only the
“pertinent” columns, for rows that don’t match on the provided
column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sp.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.snowflake.SnowflakeCompare.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.snowflake.SnowflakeCompare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Return True if dataframe 2 is a subset of dataframe 1.</p>
<p>Dataframe 2 is considered a subset if all of its columns are in
dataframe 1, and all of its rows match rows in dataframe 1 for the
shared columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if dataframe 2 is a subset of dataframe 1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.snowflake.calculate_max_diff">
<span class="sig-prename descclassname"><span class="pre">datacompy.snowflake.</span></span><span class="sig-name descname"><span class="pre">calculate_max_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#datacompy.snowflake.calculate_max_diff" title="Link to this definition">¶</a></dt>
<dd><p>Get a maximum difference between two columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataframe</strong> (<em>sp.DataFrame</em>) – DataFrame to do comparison on</p></li>
<li><p><strong>col_1</strong> (<em>str</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>str</em>) – The second column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>max diff</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.snowflake.calculate_null_diff">
<span class="sig-prename descclassname"><span class="pre">datacompy.snowflake.</span></span><span class="sig-name descname"><span class="pre">calculate_null_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.snowflake.calculate_null_diff" title="Link to this definition">¶</a></dt>
<dd><p>Get the null differences between two columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataframe</strong> (<em>sp.DataFrame</em>) – DataFrame to do comparison on</p></li>
<li><p><strong>col_1</strong> (<em>str</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>str</em>) – The second column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>null diff</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.snowflake.columns_equal">
<span class="sig-prename descclassname"><span class="pre">datacompy.snowflake.</span></span><span class="sig-name descname"><span class="pre">columns_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.snowflake.columns_equal" title="Link to this definition">¶</a></dt>
<dd><p>Compare two columns from a dataframe.</p>
<p>Returns a True/False series with the same index as column 1.</p>
<ul class="simple">
<li><p>Two nulls (np.nan) will evaluate to True.</p></li>
<li><p>A null and a non-null value will evaluate to False.</p></li>
<li><p>Numeric values will use the relative and absolute tolerances.</p></li>
<li><p>Decimal values (decimal.Decimal) will attempt to be converted to floats
before comparing</p></li>
<li><p>Non-numeric values (i.e. where np.isclose can’t be used) will just
trigger True on two nulls or exact matches.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataframe</strong> (<em>sp.DataFrame</em>) – DataFrame to do comparison on</p></li>
<li><p><strong>col_1</strong> (<em>str</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>str</em>) – The second column</p></li>
<li><p><strong>col_match</strong> (<em>str</em>) – The matching column denoting if the compare was a match or not</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A column of boolean values are added.  True == the values match, False == the
values don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sp.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.snowflake.get_merged_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.snowflake.</span></span><span class="sig-name descname"><span class="pre">get_merged_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merged_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.snowflake.get_merged_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get the columns from an original dataframe, in the new merged dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_df</strong> (<em>sp.DataFrame</em>) – The original, pre-merge dataframe</p></li>
<li><p><strong>merged_df</strong> (<em>sp.DataFrame</em>) – Post-merge with another dataframe, with suffixes added in.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – What suffix was used to distinguish when the original dataframe was
overlapping with the other merged dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Column list of the original dataframe pre suffix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.snowflake.temp_column_name">
<span class="sig-prename descclassname"><span class="pre">datacompy.snowflake.</span></span><span class="sig-name descname"><span class="pre">temp_column_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dataframes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.snowflake.temp_column_name" title="Link to this definition">¶</a></dt>
<dd><p>Get a temp column name that isn’t included in columns of any dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataframes</strong> (<em>list</em><em> of </em><em>DataFrames</em>) – The DataFrames to create a temporary column name for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String column name that looks like ‘_temp_x’ for some integer x</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-datacompy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-datacompy" title="Link to this heading">¶</a></h2>
<p>DataComPy is a package to compare two Pandas DataFrames.</p>
<p>Originally started to be something of a replacement for SAS’s PROC COMPARE for Pandas DataFrames with some more functionality than just Pandas.DataFrame.equals(Pandas.DataFrame) (in that it prints out some stats, and lets you tweak how accurate matches have to be).
Then extended to carry that functionality over to Spark Dataframes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="datacompy.BaseCompare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">BaseCompare</span></span><a class="headerlink" href="#datacompy.BaseCompare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Base comparison class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.all_columns_match">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Check if all columns match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.all_mismatch">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows that mismatch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.all_rows_overlap">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Check if all rows overlap.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.count_matching_rows">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of matching rows.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.BaseCompare.df1">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#datacompy.BaseCompare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.df1_unq_columns">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.BaseCompare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.BaseCompare.df2">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#datacompy.BaseCompare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.df2_unq_columns">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.BaseCompare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.intersect_columns">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.BaseCompare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.intersect_rows_match">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check if the intersection of rows match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.matches">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Check if the dataframes match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.only_join_columns">
<span class="sig-name descname"><span class="pre">only_join_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.only_join_columns" title="Link to this definition">¶</a></dt>
<dd><p>Boolean on if the only columns are the join columns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.report">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return. Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output. Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.sample_mismatch">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get a sample of rows that mismatch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.BaseCompare.subset">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.BaseCompare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Check if one dataframe is a subset of the other.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datacompy.Compare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">Compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datacompy.Compare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#datacompy.base.BaseCompare" title="datacompy.base.BaseCompare"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCompare</span></code></a></p>
<p>Comparison class to be used to compare whether two dataframes as equal.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>on_index</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the index will be used to join the two dataframes.  If both
<code class="docutils literal notranslate"><span class="pre">join_columns</span></code> and <code class="docutils literal notranslate"><span class="pre">on_index</span></code> are provided, an exception will be
raised.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Absolute tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Relative tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns). Excludes categoricals.</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns. Excludes categoricals.</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>df1_unq_rows</strong> (pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – All records that are only in df1 (based on a join on join_columns)</p></li>
<li><p><strong>df2_unq_rows</strong> (pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – All records that are only in df2 (based on a join on join_columns)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.all_columns_match">
<span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.Compare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.all_mismatch">
<span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.Compare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows with any columns that have a mismatch.</p>
<p>Returns all df1 and df2 versions of the columns and join
columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_matching_cols</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether showing the matching columns in the output or not. The default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All rows of the intersection dataframe, containing any columns, that don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.all_rows_overlap">
<span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.Compare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Whether the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.count_matching_rows">
<span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.Compare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of matching rows</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.Compare.df1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.Compare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.df1_unq_columns">
<span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.Compare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.Compare.df2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.Compare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.df2_unq_columns">
<span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.Compare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.intersect_columns">
<span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.Compare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.intersect_rows_match">
<span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.Compare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the intersect rows all match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.Compare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Return True or False if the dataframes match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_extra_columns</strong> (<em>bool</em>) – Ignores any columns in one dataframe and not in the other.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False if the dataframes match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.Compare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can then be printed or saved to a file. You can customize the
report’s appearance by providing a custom Jinja2 template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return. Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output. Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used. The template receives the
following context variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">column_summary</span></code>: Dict with column statistics including: <code class="docutils literal notranslate"><span class="pre">common_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_name</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_summary</span></code>: Dict with row statistics including: <code class="docutils literal notranslate"><span class="pre">match_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_rows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column_comparison</span></code>: Dict with column comparison statistics including: <code class="docutils literal notranslate"><span class="pre">unequal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_values</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mismatch_stats</span></code>: Dict containing:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: List of dicts with column mismatch statistics (column, match, mismatch, null_diff, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples</span></code>: Sample rows with mismatched values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_samples</span></code>: Boolean indicating if there are any mismatch samples</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_mismatches</span></code>: Boolean indicating if there are any mismatches</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">df1_unique_rows</span></code>: Dict with unique rows in df1 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df2_unique_rows</span></code>: Dict with unique rows in df2 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Basic usage with default template:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">compare</span> <span class="o">=</span> <span class="n">datacompy</span><span class="o">.</span><span class="n">Compare</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">join_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">compare</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
<p>Using a custom template file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a custom template file (custom_report.j2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;custom_report.j2&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    Comparison Report</span>
<span class="gp">... </span><span class="s1">    ================</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">    DataFrames: {{ df1_name }} vs {{ df2_name }}</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">    Shape Summary:</span>
<span class="gp">... </span><span class="s1">    - {{ df1_name }}: {{ df1_shape[0] }} rows x {{ df1_shape[1] }} columns</span>
<span class="gp">... </span><span class="s1">    - {{ df2_name }}: {{ df2_shape[0] }} rows x {{ df2_shape[1] }} columns</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% i</span><span class="s1">f mismatch_stats %}</span>
<span class="gp">... </span><span class="s1">    Mismatched Columns ({{ mismatch_stats|length }}):</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% f</span><span class="s1">or col in mismatch_stats %}</span>
<span class="gp">... </span><span class="s1">    - {{ col.column }} ({{ col.unequal_cnt }} mismatches)</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% e</span><span class="s1">ndfor %}</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% e</span><span class="s1">lse %}</span>
<span class="gp">... </span><span class="s1">    No mismatches found in any columns!</span>
<span class="gp">... </span><span class="s1">    {</span><span class="si">% e</span><span class="s1">ndif %}</span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Generate report with custom template</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">compare</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">template_path</span><span class="o">=</span><span class="s1">&#39;custom_report.j2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.sample_mismatch">
<span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#datacompy.Compare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Return sample mismatches.</p>
<p>Gets a sub-dataframe which contains the identifying
columns, and df1 and df2 versions of the column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The raw column name (i.e. without <code class="docutils literal notranslate"><span class="pre">_df1</span></code> appended)</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>for_display</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether this is just going to be used for display (overwrite the
column names)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>Pandas.DataFrame</em> – A sample of the intersection dataframe, containing only the
“pertinent” columns, for rows that don’t match on the provided
column.</p></li>
<li><p><em>None</em> – When the column being requested is not an intersecting column between dataframes.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.Compare.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.Compare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Return True if dataframe 2 is a subset of dataframe 1.</p>
<p>Dataframe 2 is considered a subset if all of its columns are in
dataframe 1, and all of its rows match rows in dataframe 1 for the
shared columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if dataframe 2 is a subset of dataframe 1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datacompy.PolarsCompare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">PolarsCompare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datacompy.PolarsCompare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#datacompy.base.BaseCompare" title="datacompy.base.BaseCompare"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCompare</span></code></a></p>
<p>Comparison class to be used to compare whether two dataframes as equal.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (Polars <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (Polars <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Absolute tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Relative tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns). Excludes categoricals.</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns. Excludes categoricals.</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>df1_unq_rows</strong> (Polars <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – All records that are only in df1 (based on a join on join_columns)</p></li>
<li><p><strong>df2_unq_rows</strong> (Polars <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) – All records that are only in df2 (based on a join on join_columns)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.all_columns_match">
<span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.all_mismatch">
<span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows with any columns that have a mismatch.</p>
<p>Returns all df1 and df2 versions of the columns and join
columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_matching_cols</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether showing the matching columns in the output or not. The default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All rows of the intersection dataframe, containing any columns, that don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Polars.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.all_rows_overlap">
<span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Whether the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.count_matching_rows">
<span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of matching rows</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.df1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.PolarsCompare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.df1_unq_columns">
<span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.df2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.PolarsCompare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.df2_unq_columns">
<span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.intersect_columns">
<span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.intersect_rows_match">
<span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the intersect rows all match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Return True or False if the dataframes match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_extra_columns</strong> (<em>bool</em>) – Ignores any columns in one dataframe and not in the other.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False if the dataframes match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can then be printed or saved to a file. You can customize the
report’s appearance by providing a custom Jinja2 template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output.  Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used. The template receives the
following context variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">column_summary</span></code>: Dict with column statistics including: <code class="docutils literal notranslate"><span class="pre">common_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_name</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_summary</span></code>: Dict with row statistics including: <code class="docutils literal notranslate"><span class="pre">match_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_rows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column_comparison</span></code>: Dict with column comparison statistics including: <code class="docutils literal notranslate"><span class="pre">unequal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_values</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mismatch_stats</span></code>: Dict containing:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: List of dicts with column mismatch statistics (column, match, mismatch, null_diff, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples</span></code>: Sample rows with mismatched values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_samples</span></code>: Boolean indicating if there are any mismatch samples</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_mismatches</span></code>: Boolean indicating if there are any mismatches</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">df1_unique_rows</span></code>: Dict with unique rows in df1 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df2_unique_rows</span></code>: Dict with unique rows in df2 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.sample_mismatch">
<span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Return sample mismatches.</p>
<p>Get a sub-dataframe which contains the identifying
columns, and df1 and df2 versions of the column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The raw column name (i.e. without <code class="docutils literal notranslate"><span class="pre">_df1</span></code> appended)</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>for_display</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether this is just going to be used for display (overwrite the
column names)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>Polars.DataFrame</em> – A sample of the intersection dataframe, containing only the
“pertinent” columns, for rows that don’t match on the provided
column.</p></li>
<li><p><em>None</em> – When the column being requested is not an intersecting column between dataframes.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.PolarsCompare.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.PolarsCompare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Return True if dataframe 2 is a subset of dataframe 1.</p>
<p>Dataframe 2 is considered a subset if all of its columns are in
dataframe 1, and all of its rows match rows in dataframe 1 for the
shared columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if dataframe 2 is a subset of dataframe 1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">SnowflakeCompare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datacompy.SnowflakeCompare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#datacompy.base.BaseCompare" title="datacompy.base.BaseCompare"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCompare</span></code></a></p>
<p>Comparison class to be used to compare whether two Snowpark dataframes are equal.</p>
<p>df1 and df2 can refer to either a Snowpark dataframe or the name of a valid Snowflake table.
The data structures which df1 and df2 represent must contain all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session</strong> (<em>snowflake.snowpark.session</em>) – Session with the required connection session info for user and targeted tables</p></li>
<li><p><strong>df1</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>sp.Dataframe</em><em>]</em>) – First table to check, provided either as the table’s name or as a Snowpark DF.</p></li>
<li><p><strong>df2</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>sp.Dataframe</em><em>]</em>) – Second table to check, provided either as the table’s name or as a Snowpark DF.</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Absolute tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Relative tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe. If used alongside a snowflake table,
overrides the default convention of naming the dataframe after the table.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe.</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns).</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>df1_unq_rows</strong> (<em>sp.DataFrame</em>) – All records that are only in df1 (based on a join on join_columns)</p></li>
<li><p><strong>df2_unq_rows</strong> (<em>sp.DataFrame</em>) – All records that are only in df2 (based on a join on join_columns)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.all_columns_match">
<span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>bool</em></p></li>
<li><p><em>True if all columns in df1 are in df2 and vice versa</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.all_mismatch">
<span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows with any columns that have a mismatch.</p>
<p>Returns all df1 and df2 versions of the columns and join
columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_matching_cols</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether showing the matching columns in the output or not. The default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All rows of the intersection dataframe, containing any columns, that don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sp.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.all_rows_overlap">
<span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Whether the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.count_matching_rows">
<span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of matching rows</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.df1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.SnowflakeCompare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.df1_unq_columns">
<span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.df2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.SnowflakeCompare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.df2_unq_columns">
<span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.intersect_columns">
<span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.intersect_rows_match">
<span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the intersect rows all match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Return True or False if the dataframes match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_extra_columns</strong> (<em>bool</em>) – Ignores any columns in one dataframe and not in the other.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False if the dataframes match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can then be printed or saved to a file. You can customize the
report’s appearance by providing a custom Jinja2 template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return. Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output. Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used. The template receives the
following context variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">column_summary</span></code>: Dict with column statistics including: <code class="docutils literal notranslate"><span class="pre">common_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_name</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_summary</span></code>: Dict with row statistics including: <code class="docutils literal notranslate"><span class="pre">match_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_rows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column_comparison</span></code>: Dict with column comparison statistics including: <code class="docutils literal notranslate"><span class="pre">unequal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_values</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mismatch_stats</span></code>: Dict containing:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: List of dicts with column mismatch statistics (column, match, mismatch, null_diff, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples</span></code>: Sample rows with mismatched values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_samples</span></code>: Boolean indicating if there are any mismatch samples</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_mismatches</span></code>: Boolean indicating if there are any mismatches</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">df1_unique_rows</span></code>: Dict with unique rows in df1 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df2_unique_rows</span></code>: Dict with unique rows in df2 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.sample_mismatch">
<span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Return sample mismatches.</p>
<p>Gets a sub-dataframe which contains the identifying
columns, and df1 and df2 versions of the column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The raw column name (i.e. without <code class="docutils literal notranslate"><span class="pre">_df1</span></code> appended)</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>for_display</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether this is just going to be used for display (overwrite the
column names)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A sample of the intersection dataframe, containing only the
“pertinent” columns, for rows that don’t match on the provided
column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sp.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SnowflakeCompare.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SnowflakeCompare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Return True if dataframe 2 is a subset of dataframe 1.</p>
<p>Dataframe 2 is considered a subset if all of its columns are in
dataframe 1, and all of its rows match rows in dataframe 1 for the
shared columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if dataframe 2 is a subset of dataframe 1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">SparkSQLCompare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spark_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SparkSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datacompy.SparkSQLCompare" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#datacompy.base.BaseCompare" title="datacompy.base.BaseCompare"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCompare</span></code></a></p>
<p>Comparison class to be used to compare whether two Spark SQL dataframes are equal.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spark_session</strong> (<em>pyspark.sql.SparkSession</em>) – A <code class="docutils literal notranslate"><span class="pre">SparkSession</span></code> to be used to execute Spark commands in the comparison.</p></li>
<li><p><strong>df1</strong> (<em>pyspark.sql.DataFrame</em>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<em>pyspark.sql.DataFrame</em>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Absolute tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Relative tolerance between two values. Can be either a float value applied to all columns,
or a dictionary mapping column names to specific tolerance values. The special key “default”
in the dictionary specifies the tolerance for columns not explicitly listed.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>df1_unq_rows</strong> (<em>pyspark.sql.DataFrame</em>) – All records that are only in df1 (based on a join on join_columns)</p></li>
<li><p><strong>df2_unq_rows</strong> (<em>pyspark.sql.DataFrame</em>) – All records that are only in df2 (based on a join on join_columns)</p></li>
<li><p><strong>intersect_rows</strong> (<em>pyspark.sql.DataFrame</em>) – All records that are in both df1 and df2</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.all_columns_match">
<span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if all columns in df1 are in df2 and vice versa</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.all_mismatch">
<span class="sig-name descname"><span class="pre">all_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_matching_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.all_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Get all rows with any columns that have a mismatch.</p>
<p>Returns all df1 and df2 versions of the columns and join
columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_matching_cols</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether showing the matching columns in the output or not. The default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All rows of the intersection dataframe, containing any columns, that don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyspark.sql.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.all_rows_overlap">
<span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Whether the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.count_matching_rows">
<span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of matching rows</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.df1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.SparkSQLCompare.df1" title="Link to this definition">¶</a></dt>
<dd><p>Get the first dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.df1_unq_columns">
<span class="sig-name descname"><span class="pre">df1_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.df1_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.df2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#datacompy.SparkSQLCompare.df2" title="Link to this definition">¶</a></dt>
<dd><p>Get the second dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.df2_unq_columns">
<span class="sig-name descname"><span class="pre">df2_unq_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.df2_unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df2.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.intersect_columns">
<span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.intersect_rows_match">
<span class="sig-name descname"><span class="pre">intersect_rows_match</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.intersect_rows_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the intersect rows all match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_extra_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.matches" title="Link to this definition">¶</a></dt>
<dd><p>Return True or False if the dataframes match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore_extra_columns</strong> (<em>bool</em>) – Ignores any columns in one dataframe and not in the other.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can then be printed or saved to a file. You can customize the
report’s appearance by providing a custom Jinja2 template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return. Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output. Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
<li><p><strong>template_path</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Path to a custom Jinja2 template file to use for report generation.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default template will be used. The template receives the
following context variables:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">column_summary</span></code>: Dict with column statistics including: <code class="docutils literal notranslate"><span class="pre">common_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">df1_name</span></code>, <code class="docutils literal notranslate"><span class="pre">df2_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_summary</span></code>: Dict with row statistics including: <code class="docutils literal notranslate"><span class="pre">match_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_rows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column_comparison</span></code>: Dict with column comparison statistics including: <code class="docutils literal notranslate"><span class="pre">unequal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">equal_columns</span></code>, <code class="docutils literal notranslate"><span class="pre">unequal_values</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mismatch_stats</span></code>: Dict containing:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: List of dicts with column mismatch statistics (column, match, mismatch, null_diff, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples</span></code>: Sample rows with mismatched values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_samples</span></code>: Boolean indicating if there are any mismatch samples</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_mismatches</span></code>: Boolean indicating if there are any mismatches</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">df1_unique_rows</span></code>: Dict with unique rows in df1 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df2_unique_rows</span></code>: Dict with unique rows in df2 including: <code class="docutils literal notranslate"><span class="pre">has_rows</span></code>, <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted according to the template.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.sample_mismatch">
<span class="sig-name descname"><span class="pre">sample_mismatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.sample_mismatch" title="Link to this definition">¶</a></dt>
<dd><p>Return sample mismatches.</p>
<p>Gets a sub-dataframe which contains the identifying
columns, and df1 and df2 versions of the column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The raw column name (i.e. without <code class="docutils literal notranslate"><span class="pre">_df1</span></code> appended)</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>for_display</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether this is just going to be used for display (overwrite the
column names)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A sample of the intersection dataframe, containing only the
“pertinent” columns, for rows that don’t match on the provided
column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyspark.sql.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datacompy.SparkSQLCompare.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.SparkSQLCompare.subset" title="Link to this definition">¶</a></dt>
<dd><p>Return True if dataframe 2 is a subset of dataframe 1.</p>
<p>Dataframe 2 is considered a subset if all of its columns are in
dataframe 1, and all of its rows match rows in dataframe 1 for the
shared columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if dataframe 2 is a subset of dataframe 1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.all_columns_match">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">all_columns_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.all_columns_match" title="Link to this definition">¶</a></dt>
<dd><p>Whether the columns all match in the dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean indicating whether the columns all match in the dataframes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.all_rows_overlap">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">all_rows_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.all_rows_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Check if the rows are all present in both dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance between two values.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance between two values.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
<li><p><strong>parallelism</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer representing the amount of parallelism. Entering a value for this
will force to use of Fugue over just vanilla Pandas</p></li>
<li><p><strong>strict_schema</strong> (<em>bool</em><em>, </em><em>optional</em>) – The schema must match exactly if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This includes the names and types. Allows for a fast fail.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all rows in df1 are in df2 and vice versa (based on
existence for join option)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.calculate_max_diff">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">calculate_max_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#datacompy.calculate_max_diff" title="Link to this definition">¶</a></dt>
<dd><p>Get a maximum difference between two columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Pandas.Series</em>) – The first column</p></li>
<li><p><strong>col_2</strong> (<em>Pandas.Series</em>) – The second column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Numeric field, or zero.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Numeric</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.columns_equal">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">columns_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.columns_equal" title="Link to this definition">¶</a></dt>
<dd><p>Compare two columns from a dataframe.</p>
<p>Returns a True/False series,
with the same index as column 1.</p>
<ul class="simple">
<li><p>Two nulls (np.nan) will evaluate to True.</p></li>
<li><p>A null and a non-null value will evaluate to False.</p></li>
<li><p>Numeric values will use the relative and absolute tolerances.</p></li>
<li><p>Decimal values (decimal.Decimal) will attempt to be converted to floats
before comparing</p></li>
<li><p>Non-numeric values (i.e. where np.isclose can’t be used) will just
trigger True on two nulls or exact matches.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>As of version <code class="docutils literal notranslate"><span class="pre">0.14.0</span></code> If a column is of a mixed data type the compare will
default to returning <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code> and <code class="docutils literal notranslate"><span class="pre">np.array</span></code> types will be compared row wise using <code class="docutils literal notranslate"><span class="pre">np.array_equal</span></code>.
Depending on the size of your data this might lead to performance issues.</p></li>
<li><p>All the rows must be of the same type otherwise it is considered “mixed”
and will default to being <code class="docutils literal notranslate"><span class="pre">False</span></code> for everything.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Pandas.Series</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>Pandas.Series</em>) – The second column</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A series of Boolean values.  True == the values match, False == the
values don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.compare_string_and_date_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">compare_string_and_date_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.compare_string_and_date_columns" title="Link to this definition">¶</a></dt>
<dd><p>Compare a string column and date column, value-wise.</p>
<p>This tries to
convert a string column to a date column and compare that way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_1</strong> (<em>Pandas.Series</em>) – The first column to look at</p></li>
<li><p><strong>col_2</strong> (<em>Pandas.Series</em>) – The second column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A series of Boolean values.  True == the values match, False == the
values don’t match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.count_matching_rows">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">count_matching_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#datacompy.count_matching_rows" title="Link to this definition">¶</a></dt>
<dd><p>Count the number of rows match (on overlapping fields).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance between two values.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance between two values.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
<li><p><strong>parallelism</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer representing the amount of parallelism. Entering a value for this
will force to use of Fugue over just vanilla Pandas</p></li>
<li><p><strong>strict_schema</strong> (<em>bool</em><em>, </em><em>optional</em>) – The schema must match exactly if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This includes the names and types. Allows for a fast fail.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of matching rows</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.df_to_str">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">df_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.df_to_str" title="Link to this definition">¶</a></dt>
<dd><p>Convert a DataFrame to a string representation.</p>
<p>This is a centralized function to handle DataFrame to string conversion for different
DataFrame types (pandas, Spark, Polars, etc.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>Any</em>) – The DataFrame to convert to string. Can be pandas, Spark, or Polars DataFrame.</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – For distributed DataFrames (like Spark), limit the number of rows to convert.</p></li>
<li><p><strong>on_index</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, include the index in the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String representation of the DataFrame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.generate_id_within_group">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">generate_id_within_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.Series</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.generate_id_within_group" title="Link to this definition">¶</a></dt>
<dd><p>Generate an ID column that can be used to deduplicate identical rows.</p>
<p>The series generated
is the order within a unique group, and it handles nulls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataframe</strong> (<em>Pandas.DataFrame</em>) – The dataframe to operate on</p></li>
<li><p><strong>join_columns</strong> (<em>list</em>) – List of strings which are the join columns</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The ID column that’s unique in each group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.get_merged_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">get_merged_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merged_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.get_merged_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get the columns from an original dataframe, in the new merged dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_df</strong> (<em>Pandas.DataFrame</em>) – The original, pre-merge dataframe</p></li>
<li><p><strong>merged_df</strong> (<em>Pandas.DataFrame</em>) – Post-merge with another dataframe, with suffixes added in.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – What suffix was used to distinguish when the original dataframe was
overlapping with the other merged dataframe.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.intersect_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">intersect_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.intersect_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are shared between the two dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of that are shared between the two dataframes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OrderedSet</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.is_match">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">is_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#datacompy.is_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether two dataframes match.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance between two values.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance between two values.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
<li><p><strong>parallelism</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer representing the amount of parallelism. Entering a value for this
will force to use of Fugue over just vanilla Pandas</p></li>
<li><p><strong>strict_schema</strong> (<em>bool</em><em>, </em><em>optional</em>) – The schema must match exactly if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This includes the names and types. Allows for a fast fail.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns boolean as to if the DataFrames match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.render">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.render" title="Link to this definition">¶</a></dt>
<dd><p>Render a template using Jinja2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_name</strong> (<em>str</em>) – The name of the template file to render. This can be:
- A filename in the default templates directory (with or without .j2 extension)
- A relative path from the default templates directory
- An absolute path to a template file</p></li>
<li><p><strong>**context</strong> (<em>dict</em>) – The context variables to pass to the template</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rendered template</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the template file cannot be found in any of the expected locations</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.report">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'df2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_column_names_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.report" title="Link to this definition">¶</a></dt>
<dd><p>Return a string representation of a report.</p>
<p>The representation can
then be printed or saved to a file.</p>
<p>Both df1 and df2 should be dataframes containing all of the join_columns,
with unique column names. Differences between values are compared to
abs_tol + rel_tol * abs(df2[‘value’]).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
<li><p><strong>join_columns</strong> (<em>list</em><em> or </em><em>str</em>) – Column(s) to join dataframes on.  If a string is passed in, that one
column will be used.</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Absolute tolerance between two values.</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative tolerance between two values.</p></li>
<li><p><strong>df1_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the first dataframe.  This allows the reporting to
print out an actual name instead of “df1”, and allows human users to
more easily track the dataframes.</p></li>
<li><p><strong>df2_name</strong> (<em>str</em><em>, </em><em>optional</em>) – A string name for the second dataframe</p></li>
<li><p><strong>ignore_spaces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to strip whitespace (including newlines) from string columns (including any join
columns)</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag to ignore the case of string columns</p></li>
<li><p><strong>cast_column_names_lower</strong> (<em>bool</em><em>, </em><em>optional</em>) – Boolean indicator that controls of column names will be cast into lower case</p></li>
<li><p><strong>parallelism</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer representing the amount of parallelism. Entering a value for this
will force to use of Fugue over just vanilla Pandas</p></li>
<li><p><strong>strict_schema</strong> (<em>bool</em><em>, </em><em>optional</em>) – The schema must match exactly if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This includes the names and types. Allows for a fast fail.</p></li>
<li><p><strong>sample_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of sample records to return.  Defaults to 10.</p></li>
<li><p><strong>column_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of columns to display in the sample records output.  Defaults to 10.</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em>, </em><em>optional</em>) – HTML file name to save report output to. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the file creation will be skipped.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The report, formatted kinda nicely.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.save_html_report">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">save_html_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#datacompy.save_html_report" title="Link to this definition">¶</a></dt>
<dd><p>Save a text report as an HTML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>report</strong> (<em>str</em>) – The text report to convert to HTML</p></li>
<li><p><strong>html_file</strong> (<em>str</em><em> or </em><em>Path</em>) – The path where the HTML file should be saved</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.temp_column_name">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">temp_column_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dataframes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#datacompy.temp_column_name" title="Link to this definition">¶</a></dt>
<dd><p>Get a temp column name that isn’t included in columns of any dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataframes</strong> (<em>list</em><em> of </em><em>DataFrames</em>) – The DataFrames to create a temporary column name for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String column name that looks like ‘_temp_x’ for some integer x</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datacompy.unq_columns">
<span class="sig-prename descclassname"><span class="pre">datacompy.</span></span><span class="sig-name descname"><span class="pre">unq_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedSet</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#datacompy.unq_columns" title="Link to this definition">¶</a></dt>
<dd><p>Get columns that are unique to df1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – First dataframe to check</p></li>
<li><p><strong>df2</strong> (<code class="docutils literal notranslate"><span class="pre">AnyDataFrame</span></code>) – Second dataframe to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of columns that are unique to df1</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OrderedSet</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="datacompy.spark.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">datacompy.spark package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="modules.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">datacompy</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Capital One
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">datacompy package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-datacompy.base">datacompy.base module</a><ul>
<li><a class="reference internal" href="#datacompy.base.BaseCompare"><code class="docutils literal notranslate"><span class="pre">BaseCompare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">BaseCompare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">BaseCompare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">BaseCompare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">BaseCompare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.df1"><code class="docutils literal notranslate"><span class="pre">BaseCompare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">BaseCompare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.df2"><code class="docutils literal notranslate"><span class="pre">BaseCompare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">BaseCompare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">BaseCompare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">BaseCompare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.matches"><code class="docutils literal notranslate"><span class="pre">BaseCompare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.only_join_columns"><code class="docutils literal notranslate"><span class="pre">BaseCompare.only_join_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.report"><code class="docutils literal notranslate"><span class="pre">BaseCompare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">BaseCompare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.BaseCompare.subset"><code class="docutils literal notranslate"><span class="pre">BaseCompare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.base.df_to_str"><code class="docutils literal notranslate"><span class="pre">df_to_str()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.get_column_tolerance"><code class="docutils literal notranslate"><span class="pre">get_column_tolerance()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.render"><code class="docutils literal notranslate"><span class="pre">render()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.save_html_report"><code class="docutils literal notranslate"><span class="pre">save_html_report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.base.temp_column_name"><code class="docutils literal notranslate"><span class="pre">temp_column_name()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-datacompy.core">datacompy.core module</a><ul>
<li><a class="reference internal" href="#datacompy.core.Compare"><code class="docutils literal notranslate"><span class="pre">Compare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.core.Compare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">Compare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">Compare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">Compare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">Compare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.df1"><code class="docutils literal notranslate"><span class="pre">Compare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">Compare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.df2"><code class="docutils literal notranslate"><span class="pre">Compare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">Compare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">Compare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">Compare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.matches"><code class="docutils literal notranslate"><span class="pre">Compare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.report"><code class="docutils literal notranslate"><span class="pre">Compare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">Compare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.Compare.subset"><code class="docutils literal notranslate"><span class="pre">Compare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.core.calculate_max_diff"><code class="docutils literal notranslate"><span class="pre">calculate_max_diff()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.columns_equal"><code class="docutils literal notranslate"><span class="pre">columns_equal()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.compare_string_and_date_columns"><code class="docutils literal notranslate"><span class="pre">compare_string_and_date_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.generate_id_within_group"><code class="docutils literal notranslate"><span class="pre">generate_id_within_group()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.get_merged_columns"><code class="docutils literal notranslate"><span class="pre">get_merged_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.core.normalize_string_column"><code class="docutils literal notranslate"><span class="pre">normalize_string_column()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-datacompy.fugue">datacompy.fugue module</a><ul>
<li><a class="reference internal" href="#datacompy.fugue.all_columns_match"><code class="docutils literal notranslate"><span class="pre">all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.fugue.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.fugue.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.fugue.intersect_columns"><code class="docutils literal notranslate"><span class="pre">intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.fugue.is_match"><code class="docutils literal notranslate"><span class="pre">is_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.fugue.report"><code class="docutils literal notranslate"><span class="pre">report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.fugue.unq_columns"><code class="docutils literal notranslate"><span class="pre">unq_columns()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-datacompy.polars">datacompy.polars module</a><ul>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare"><code class="docutils literal notranslate"><span class="pre">PolarsCompare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.df1"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.df2"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.matches"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.report"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.PolarsCompare.subset"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.polars.calculate_max_diff"><code class="docutils literal notranslate"><span class="pre">calculate_max_diff()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.columns_equal"><code class="docutils literal notranslate"><span class="pre">columns_equal()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.compare_string_and_date_columns"><code class="docutils literal notranslate"><span class="pre">compare_string_and_date_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.generate_id_within_group"><code class="docutils literal notranslate"><span class="pre">generate_id_within_group()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.get_merged_columns"><code class="docutils literal notranslate"><span class="pre">get_merged_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.polars.normalize_string_column"><code class="docutils literal notranslate"><span class="pre">normalize_string_column()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-datacompy.snowflake">datacompy.snowflake module</a><ul>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.df1"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.df2"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.matches"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.report"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.SnowflakeCompare.subset"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.snowflake.calculate_max_diff"><code class="docutils literal notranslate"><span class="pre">calculate_max_diff()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.calculate_null_diff"><code class="docutils literal notranslate"><span class="pre">calculate_null_diff()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.columns_equal"><code class="docutils literal notranslate"><span class="pre">columns_equal()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.get_merged_columns"><code class="docutils literal notranslate"><span class="pre">get_merged_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.snowflake.temp_column_name"><code class="docutils literal notranslate"><span class="pre">temp_column_name()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-datacompy">Module contents</a><ul>
<li><a class="reference internal" href="#datacompy.BaseCompare"><code class="docutils literal notranslate"><span class="pre">BaseCompare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.BaseCompare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">BaseCompare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">BaseCompare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">BaseCompare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">BaseCompare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.df1"><code class="docutils literal notranslate"><span class="pre">BaseCompare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">BaseCompare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.df2"><code class="docutils literal notranslate"><span class="pre">BaseCompare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">BaseCompare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">BaseCompare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">BaseCompare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.matches"><code class="docutils literal notranslate"><span class="pre">BaseCompare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.only_join_columns"><code class="docutils literal notranslate"><span class="pre">BaseCompare.only_join_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.report"><code class="docutils literal notranslate"><span class="pre">BaseCompare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">BaseCompare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.BaseCompare.subset"><code class="docutils literal notranslate"><span class="pre">BaseCompare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.Compare"><code class="docutils literal notranslate"><span class="pre">Compare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.Compare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">Compare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">Compare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">Compare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">Compare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.df1"><code class="docutils literal notranslate"><span class="pre">Compare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">Compare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.df2"><code class="docutils literal notranslate"><span class="pre">Compare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">Compare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">Compare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">Compare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.matches"><code class="docutils literal notranslate"><span class="pre">Compare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.report"><code class="docutils literal notranslate"><span class="pre">Compare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">Compare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.Compare.subset"><code class="docutils literal notranslate"><span class="pre">Compare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.PolarsCompare"><code class="docutils literal notranslate"><span class="pre">PolarsCompare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.PolarsCompare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.df1"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.df2"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.matches"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.report"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.PolarsCompare.subset"><code class="docutils literal notranslate"><span class="pre">PolarsCompare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.df1"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.df2"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.matches"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.report"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SnowflakeCompare.subset"><code class="docutils literal notranslate"><span class="pre">SnowflakeCompare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare</span></code></a><ul>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.all_columns_match"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.all_mismatch"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.all_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.df1"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.df1</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.df1_unq_columns"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.df1_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.df2"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.df2</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.df2_unq_columns"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.df2_unq_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.intersect_columns"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.intersect_rows_match"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.intersect_rows_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.matches"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.matches()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.report"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.sample_mismatch"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.sample_mismatch()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.SparkSQLCompare.subset"><code class="docutils literal notranslate"><span class="pre">SparkSQLCompare.subset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#datacompy.all_columns_match"><code class="docutils literal notranslate"><span class="pre">all_columns_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.all_rows_overlap"><code class="docutils literal notranslate"><span class="pre">all_rows_overlap()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.calculate_max_diff"><code class="docutils literal notranslate"><span class="pre">calculate_max_diff()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.columns_equal"><code class="docutils literal notranslate"><span class="pre">columns_equal()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.compare_string_and_date_columns"><code class="docutils literal notranslate"><span class="pre">compare_string_and_date_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.count_matching_rows"><code class="docutils literal notranslate"><span class="pre">count_matching_rows()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.df_to_str"><code class="docutils literal notranslate"><span class="pre">df_to_str()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.generate_id_within_group"><code class="docutils literal notranslate"><span class="pre">generate_id_within_group()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.get_merged_columns"><code class="docutils literal notranslate"><span class="pre">get_merged_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.intersect_columns"><code class="docutils literal notranslate"><span class="pre">intersect_columns()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.is_match"><code class="docutils literal notranslate"><span class="pre">is_match()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.render"><code class="docutils literal notranslate"><span class="pre">render()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.report"><code class="docutils literal notranslate"><span class="pre">report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.save_html_report"><code class="docutils literal notranslate"><span class="pre">save_html_report()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.temp_column_name"><code class="docutils literal notranslate"><span class="pre">temp_column_name()</span></code></a></li>
<li><a class="reference internal" href="#datacompy.unq_columns"><code class="docutils literal notranslate"><span class="pre">unq_columns()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=a8455094"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>